function initMap(){function e(){for(var e=new google.maps.LatLngBounds,n=viewModel.searchResults().map(function(e){return e.Name.toLowerCase()}),o=0;o<markers.length;o++)n.indexOf(markers[o].title.toLowerCase())>=0?(markers[o].setMap(map),e.extend(markers[o].position)):markers[o].setMap(null);map.fitBounds(e)}map=new google.maps.Map(document.getElementById("map"),{center:{lat:40.7413549,lng:-73.9980244},zoom:13});var n=[{title:"Park Ave Penthouse",location:{lat:40.7713024,lng:-73.9632393}},{title:"Chelsea Loft",location:{lat:40.7444883,lng:-73.9949465}},{title:"Union Square Open Floor Plan",location:{lat:40.7347062,lng:-73.9895759}},{title:"East Village Hip Studio",location:{lat:40.7281777,lng:-73.984377}},{title:"TriBeCa Artsy Bachelor Pad",location:{lat:40.7195264,lng:-74.0089934}},{title:"Chinatown Homey Space",location:{lat:40.7180628,lng:-73.9961237}}];largeInfowindow=new google.maps.InfoWindow;for(var o=new google.maps.LatLngBounds,t=0;t<n.length;t++){var a=n[t].location,i=n[t].title,l=new google.maps.Marker({position:a,title:i,animation:google.maps.Animation.DROP,id:t});markers.push(l),l.addListener("click",function(){populateInfoWindow(this,largeInfowindow)})}e(),document.getElementById("search").addEventListener("keyup",e)}function toggleBounce(e){for(var n=0;n<markers.length;n++)e==markers[n].id?null!==markers[n].getAnimation()?(markers[n].setAnimation(null),largeInfowindow.close()):(markers[n].setAnimation(google.maps.Animation.BOUNCE),populateInfoWindow(markers[n],largeInfowindow)):markers[n].setAnimation(null)}function populateInfoWindow(e,n){n.marker!=e&&(n.marker=e,n.setContent("<div>"+e.title+"</div>"),n.open(map,e),n.addListener("closeclick",function(){n.setMarker=null}))}function toggleInfoWindow(e,n){n.marker!=e&&(n.marker=e,n.setContent("<div>"+e.title+"</div>"),n.open(map,e),n.addListener("closeclick",function(){n.setMarker=null}))}var map,markers=[],largeInfowindow;