function initMap(){function e(e,t){t.marker!=e&&(t.marker=e,t.setContent("<div>"+e.title+"</div>"),t.open(map,e),t.addListener("closeclick",function(){t.setMarker=null}))}function t(){for(var e=new google.maps.LatLngBounds,t=viewModel.searchResults().map(function(e){return e.Name.toLowerCase()}),n=0;n<markers.length;n++)t.indexOf(markers[n].title.toLowerCase())>=0?(markers[n].setMap(map),e.extend(markers[n].position)):markers[n].setMap(null);map.fitBounds(e)}map=new google.maps.Map(document.getElementById("map"),{center:{lat:40.7413549,lng:-73.9980244},zoom:13});for(var n=[{title:"Park Ave Penthouse",location:{lat:40.7713024,lng:-73.9632393}},{title:"Chelsea Loft",location:{lat:40.7444883,lng:-73.9949465}},{title:"Union Square Open Floor Plan",location:{lat:40.7347062,lng:-73.9895759}},{title:"East Village Hip Studio",location:{lat:40.7281777,lng:-73.984377}},{title:"TriBeCa Artsy Bachelor Pad",location:{lat:40.7195264,lng:-74.0089934}},{title:"Chinatown Homey Space",location:{lat:40.7180628,lng:-73.9961237}}],a=new google.maps.InfoWindow,o=new google.maps.LatLngBounds,l=0;l<n.length;l++){var i=n[l].location,r=n[l].title,s=new google.maps.Marker({position:i,title:r,animation:google.maps.Animation.DROP,id:l});markers.push(s),s.addListener("click",function(){e(this,a)})}t(),document.getElementById("search").addEventListener("keyup",t)}var map,markers=[];